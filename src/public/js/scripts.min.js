function update(e){var t=document.querySelector(".barload");let n=document.querySelector(".formLogin");var o=32==parseInt(t.style.width)?65==parseInt(t.style.width)?66:33:1,r=setInterval(function(){100==o&&"function"==typeof e&&e();if(o>=100)clearInterval(r),t.style.width="0%",n&&n.submit();else{if(o++,"number"==typeof e&&1==e&&33==o)return clearInterval(r);if("number"==typeof e&&2==e&&66==o)return clearInterval(r);t.style.width=o+"%"}},7)}let btnLogin=document.querySelector(".btn-login");const getUser=()=>{fetch("http://localhost/user/1",{method:"GET",headers:{}}).then(e=>{e.json().then(e=>console.log(e))}).catch(e=>{console.log(e)})};btnLogin&&btnLogin.addEventListener("click",e=>{e.preventDefault(),update(getUser)});const getVtexProduct=e=>{if(!e.value)return alert("Informe o sku do produto");const t=e.value;new Headers({Host:"*"});fetch(`https://www.woodprime.com.br/produto/sku/${t}`).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>console.log(e))},btnSearchProduct=document.querySelector(".btnGetProductVtex");btnSearchProduct.addEventListener("click",e=>{e.preventDefault();let t=document.querySelector(".skuProduct");getVtexProduct(t)});const typeResource="type",insertType=e=>{if(!e.value)return alert("Informe o nome do tipo de customização");update(1),fetch("http://localhost/api/type",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.value})}).then(t=>{update(2),t.json().then(t=>{const n=document.createElement("div");return n.classList.add("card","mb-3","card-type"),n.id=`type-${t.id}`,n.style.flex="0 0 calc(33.333333% - 10px)",n.style.margin="0 5px",n.innerHTML=`<div class="card-body text-center">\n                <h6 class="card-title mb-0">${t.name}</h6>\n              </div>\n              <div class="types-hover">\n                <button type="button" class="btn btn-danger del-type" data-delete="#type-${t.id}">\n                  <i class="fas fa-trash-alt"></i>\n                </button>\n                <button type="button" class="btn btn-primary edit-type" data-edit="#type-${t.id}">\n                  <i class="fas fa-edit"></i>\n                </button>\n              </div>`,e.value="",update(()=>(console.log(n),document.querySelector(".typesContainer").prepend(n),delTypeAll()))}).catch(e=>console.log(e))}).catch(e=>{console.log(e)})},btnInsertType=document.querySelector(".insertType");btnInsertType.addEventListener("click",e=>{e.preventDefault(),insertType(document.querySelector(".typeName"))}),delTypeAll=(()=>{const e=document.querySelectorAll(".del-type");Array.from(e).forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let n=parseInt(e.getAttribute("data-delete").replace("#type-",""));((e,t)=>{update(1),fetch(`http://localhost/api/type/${t}`,{method:"DELETE"}).then(t=>{update(2),t.json().then(t=>update(()=>document.querySelector(e.getAttribute("data-delete")).remove())).catch(e=>console.log(e))}).catch(e=>{console.log(e)})})(e,n)})})}),delTypeAll();